<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
  <meta charset="UTF-8">
  <title>Midniyompan-shop Application</title>
  <link th:rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
  <script th:src="@{/js/bootstrap.min.js}"></script>
  <style>
    #previewImg {
      float: left; /* สำหรับการให้รูปอยู่ด้านซ้าย */
      margin-right: 20px;
      max-height: 200px;
      max-width: 200px;/* ระยะห่างของรูปภาพกับเนื้อหาอื่นๆ ทางขวา */
    }
  </style>
</head>
<body>
<div th:insert="~{fragments/header :: header}"></div>
  <div class="container w-50 p-3">
  <h1 class="display-5">Add Product</h1>
  <form action="#" th:action="@{/main/add}" method="POST" enctype="multipart/form-data">
    <div class="mb-3">
      <label for="inputBrand">Brand</label>
      <input id="inputBrand" type="input" class="form-control"
             name="brand">
    </div>
    <div class="mb-3">
      <label for="inputName">Name</label>
      <input id="inputName" type="input" class="form-control"
             name="name" required>
    </div>
      <div class="mb-3">
          <label for="inputName">Category</label>
          <select class="form-control" id="inputCategory" name="categoryId">
              <option th:each="category : ${categories}"
                      th:value="${category.id}" th:text="${category.name}">
              </option>
          </select>
      </div>
    <div class="mb-3">
      <label for="inputRemain">Remaining</label>
      <input id="inputRemain" type="input" class="form-control"
             name="remain" required>
    </div>
    <div class="mb-3">
      <label for="inputWareHouse">Warehouse</label>
      <input id="inputWareHouse" type="input" class="form-control"
             name="warehouse" required>
    </div>
    <div class="mb-3">
      <label for="inputPrice">Price</label>
      <input id="inputPrice" type="input" class="form-control"
             name="price" required>
    </div>
    <div class="mb-3">
      <label for="inputDetail">Detail</label>
      <textarea id="inputDetail" type="input" class="form-control"
                name="Detail" rows="4" cols="50" required></textarea>
      <br>
    </div>

    <div>
      <label for="imageFile">รูปภาพ:</label>
      <input type="file" class="form-control" id="imageFile" name="file" accept="image/*" ><br><br>
      <button id="submit-button" type="submit" class="btn btn-primary">Add Product</button>
      <img id="previewImg" th:src="@{https://via.placeholder.com/232x237}" />
    </div>


</form>
</div>
<script type="text/javascript">
  imageFile.onchange = evt => {
    const [file] = imageFile.files
    if (file) {
      previewImg.src = URL.createObjectURL(file)
    }
  }
</script>
</body>
</html>
